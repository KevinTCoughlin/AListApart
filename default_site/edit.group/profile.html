{if group_id == "1" OR member_id == "{segment_3}"}

<!doctype html>
	
<!--[if lt IE 7]> <html class="no-js ie ie6 lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie ie7 lt-ie10 lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie ie8 lt-ie10 lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9 lt-ie10" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>

	<meta charset="utf-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<meta name="viewport" content="width=device-width">
	
	<link rel="stylesheet" href="/d/_repo/site_assets/css/reset.css" />
	<link rel="stylesheet" href="/d/_repo/site_assets/css/editables.css" />

	<script src="/d/_repo/site_assets/js/libs/modernizr-dev.js"></script>

	<title>A List Apart Profile Editor</title>
		
</head>

<body data-xid="{XID_HASH}">
	
	<header>
	
		<h1>
			<img src="/d/_repo/site_assets/img/favicons/apple-touch-icon-57x57.png" alt="" width="57" height="57" style="display: inline-block; height: 40px; width: auto; vertical-align: middle; margin-right: 9px; margin-top: -10px;">
			The ALA Profile Editor
		</h1>
		
	</header>
	
	<hr>

{exp:social_login:add_userdata return="SAME_PAGE" id="userdata_form"}

	<style>
	form, hr {display: none;}
	form#userdata_form {display: block;}
	</style>

	<h2 class="social-form">Did you sign up using a social account?</h2>
	
	<p>We might need some more info before you can edit your profile:</p>
		
	{email_block}
	<fieldset>
		<label>
			Please let us know your email address:<br />
			<input name="email" type="email" value="">
		</label>
	</fieldset>
	{/email_block}

	{password_block}
	<fieldset>
		<label>
			Change Password:
			<input name="password" type="password" value="">
			<span class="note">Make it good.</span>
		</label>
		
		<label>
			Password Confirmation:
			<input name="password_confirm" type="password" value="">
			<span class="note">Make it the same.</span>
		</label>
	</fieldset>
	{/password_block}

	<p class="align-center">
		<button type="submit" class="spinner">
			<span class="label">Submit</span>
			<span class="spinner"></span>
		</button>
	</p>
	
<hr>

{/exp:social_login:add_userdata}

{exp:user:edit 
	member_id="{segment_3}" 
	dynamic="off" 
	return="/edit/profile/{segment_3}" 
	form:class="perfect-form-demo"}

	<h2>The Basics</h2>

	<fieldset>
		
		<label>
			Username:
			<input name="username" type="text" value="{username}" readonly>
			<span class="note">Readonly. If you must change this, get in touch.</span>
		</label>
	
		<label>
			Visible Name:
			<input name="screen_name" type="text" value="{screen_name}">
			<span class="note">For reasons passing understanding, this must be unique.</span>
		</label>
		
		{if group_id == "1" OR group_id == "6" OR group_id == "7" OR group_id == "10"}
	
		<label>
			First Name:
			<input name="first_name" type="text" value="{first_name}">
		</label>
	
		<label>
			Last Name:
			<input name="last_name" type="text" value="{last_name}">
		</label>
		
		{/if}
	
		<label>
			Email:
			<input name="email" type="email" value="{email}">
		</label>
		
		<label>
			Change Password:
			<input name="password" type="password" value="">
			<span class="note">Make it good.</span>
		</label>
		
		<label>
			Password Confirmation:
			<input name="password_confirm" type="password" value="">
			<span class="note">Make it the same.</span>
		</label>

	</fieldset>
	
	<p class="align-center">
		<button type="submit" class="spinner">
			<span class="label">Submit</span>
			<span class="spinner"></span>
		</button>
	</p>

{/exp:user:edit}
	
<hr>

{exp:user:edit 
	member_id="{segment_3}" 
	dynamic="off" 
	return="/edit/profile/{segment_3}" 
	form:class="perfect-form-demo"}
	
	<h2>Social Stuff</h2>
	
	<fieldset>
		
		<label>
			Personal URL:
			<input name="url" type="text" value="{url}">
			<span class="note">no http, no trailing slash</span>
		</label>
		
		<label>
			Twitter:
			<input name="twitter" type="text" value="{twitter}">
			<span class="note">username only, no @</span>
		</label>
		
		<label>
			Facebook:
			<input name="facebook" type="text" value="{facebook}">
			<span class="note">username only</span>
		</label>
		
		<label>
			GitHub:
			<input name="github" type="text" value="{github}">
			<span class="note">username only</span>
		</label>
		
		<label>
			Dribble:
			<input name="dribbble" type="text" value="{dribbble}">
			<span class="note">username only</span>
		</label>
		
		<label>
			Google+:
			<input name="googleplus" type="text" value="{googleplus}">
			<span class="note">until this gets smarter, add the whole URL for your profile</span>
			<span class="note">example 1: http://google.com/+TimMurtaugh</span>
			<span class="note">example 2: https://plus.google.com/104877852135164107223â€Ž</span>
		</label>
		
	</fieldset>
	
	<fieldset>
			
		<label>
			Bio
			<textarea name="bio" data-autoresize style="height: 100px;">{bio}</textarea>
			<span class="note">links encouraged</span>
		</label>

	</fieldset>
	
	<p class="align-center">
		<button type="submit" class="spinner">
			<span class="label">Submit</span>
			<span class="spinner"></span>
		</button>
	</p>
	
{/exp:user:edit}
	
<hr>

{exp:user:edit 
	member_id="{segment_3}" 
	dynamic="off" 
	return="/edit/profile/{segment_3}" 
	form:class="perfect-form-demo"}
	
	<h2>Avatar</h2>
			
	<p>Avatars should be square, and at least 200x200. If you sign in via Twitter, we probably grabbed your avatar from there. You can replace it.</p>
	
	<fieldset>
		
		<figure>
		{if avatar_filename != ""}
			<img src="{avatar_url}{avatar_filename}">
			{if avatar_width < "201" OR avatar_height < "201"}
			<span class="note">(at {avatar_width}x{avatar_height} this avatar is smaller than we would like)</span>
			{/if}
		{if:else}
			<img src="/d/_repo/site_assets/img/avatar_generic-commenter_grey.png">
		{/if}
		
		</figure>
		
		<label>
			Upload an avatar:
			<input type="file" name="avatar_filename" />
		</label>
		
	</fieldset>
	
	<p class="align-center">
		<button type="submit" class="spinner">
			<span class="label">Submit</span>
			<span class="spinner"></span>
		</button>
	</p>
	
{/exp:user:edit}

{if group_id == "1" OR group_id == "6" OR group_id == "7" OR group_id == "10"}
	
<hr>

{exp:user:edit 
	member_id="{segment_3}" 
	dynamic="off" 
	return="/edit/profile/{segment_3}" 
	form:class="perfect-form-demo"}
	
	<h2>Author Photo</h2>

	<p>Author photos should be at least 250x250. Our editors may crop and resize if needed.</p>
	
	<fieldset>
	
		<figure>
		{if photo_filename != ""}
			<img style="max-width: 100%;" src="{photo_url}{photo_filename}" />
			{if photo_width < "400" OR photo_height < "400"}
			<span class="note">(at {photo_width}x{photo_height} this photo smaller than we would like)</span>
			{/if}
		{/if}
		</figure>
		
		<label>
			Upload photo:
			<input type="file" name="photo_filename" />
		</label>
		
	</fieldset>
	
	<p class="align-center">
		<button type="submit" class="spinner">
			<span class="label">Submit</span>
			<span class="spinner"></span>
		</button>
	</p>
		
</div>
	
{/exp:user:edit}

{/if}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/d/_repo/site_assets/js/libs/jquery-1.8.2.min.js"><\/script>')</script>

<script src="/d/_repo/site_assets/js/libs/matchmedia.js"></script>
<script src="/d/_repo/site_assets/js/libs/picturefill.js"></script>
<script src="/d/_repo/site_assets/js/libs/breakpoints.js"></script>
<script src="/d/_repo/site_assets/js/libs/jquery.form.min.js"></script>
<script src="/d/_repo/site_assets/js/script.js"></script>


<!--<script>
	var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g,s)}(document,'script'));
</script>-->

</body>
</html>

{if:else}

{redirect='/authors'}

{/if}