{exp:channel:entries channel="articles|legacy_articles" limit="1" require_entry="yes" status="open|In Progress" show_future_entries="yes"}

{if no_results}
  {redirect="404"}
{/if}

<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>{title} Â· An A List Apart Article</title>
    <link rel="canonical" href="{site_url}/article/{url_title}" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
       amp-img {
        border: none;
      }
    </style>
    {if channel_short_name=='articles'}
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Article", 
      "mainEntityOfPage": "{site_url}/article/{url_title}",
      "headline": "{title}",
      "description": "{exp:strip_html}{article_mini_deck}{/exp:strip_html}",
      "datePublished": "{entry_date format='%Y-%m-%dT%H:%i:%s%Q'}",
      "dateModified": "{edit_date format='%Y-%m-%dT%H:%i:%s%Q'}",
      "publisher": {
        "@type": "Organization",
        "url": "{site_url}",
        "name": "A List Apart",
        "logo": {
          "@type": "ImageObject",
          "url": "{site_url}/{assets_path}/img/ala-logo-big.png",
          "width": 600,
          "height": 60
        }
      },{if article_responsive_illo}
      "image": {
        "@type": "ImageObject",
        "representativeOfPage": "http://schema.org/True"
        "url": "{article_responsive_illo}{cell_1}{url}{/cell_1}{/article_responsive_illo}",
        "description": "{if article_illo_description}{article_illo_description}{if:else}Illustration for the {title} article {/if}",
        "contentUrl": "{article_responsive_illo}{exp:ce_img:pair src='{cell_1}' width='348' crop='no' save_type='jpg' quality='81'}{made}{/exp:ce_img:pair}{/article_responsive_illo}",
        "width": "{article_responsive_illo}{cell_1}{width}{/cell_1}{/article_responsive_illo}",
        "height": "{article_responsive_illo}{cell_1}{height}{/cell_1}{/article_responsive_illo}",{if article_suppress_credit != "y"}
        "contributor": {
          "@type": "Person",
          "sameAs": "{article_illustrator}{embed='embeds/amp-article-illustrator-link' entry_id='{article_illustrator:entry_id}'}{/article_illustrator}",
          "name": "{article_illustrator}{embed='embeds/amp-article-illustrator-name' entry_id='{article_illustrator:entry_id}'}{/article_illustrator}"
        }{/if}
      },{/if}{article_authors}
      "author": {
        "@type": "Person",
        "sameAs": "{site_url}/author/{article_authors:url_title}",
        "name": "{article_authors:title}"
      },{/article_authors}{categories backspace="1" show_group="3"}
      "about": {
        "@type": "Thing",
        "name": "{category_name}",
        "sameAs": "{site_url}/topic/{category_url_title}"
      },{/categories}
    }
    </script>
    {/if}
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-font" src="https://cdn.ampproject.org/v0/amp-font-0.1.js"></script>
    <script async custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async custom-element="amp-instagram" src="https://cdn.ampproject.org/v0/amp-instagram-0.1.js"></script>
    <script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
    <amp-analytics type="googleanalytics" id="analytics1">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-11757054-1"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
    </amp-analytics>
    <header>
      
    </header>

    <main>
      
    </main>

    <footer>
      
    </footer>
 
  <!-- <amp-img
    class="grey-placeholder"
    src="https://placekitten.com/g/640"
    srcset="https://placekitten.com/g/640 640w,
           https://placekitten.com/g/320 320w"
    width='640'
    height='640'
    layout="responsive">
  </amp-img> -->

  </body>
</html>
{/exp:channel:entries}