(function(e,t){"use strict";var n=e.document,r=function(e){var t=typeof e,i=[];if(e){if(t==="function"){return r.ready(e)}if(t==="object"){i=i.concat(e)}if(t==="string"){for(var s=0,o=n.querySelectorAll(e),u=o.length;s<u;s++){i[s]=o[s]}}}else{i.push(n)}return r.extend(i,r.fn)};r.extend=function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e};r.ready=function(t){var r=false,i=[],s=function(){if(!r){while(i.length){i.shift().call(n)}r=true}};if(!e.addEventListener){e.addEventListener=function(t,n){return e.attachEvent("on"+t,n)}}e.addEventListener("DOMContentLoaded",s,false);e.addEventListener("readystatechange",s,false);e.addEventListener("load",s,false);if(n.readyState==="complete"){s()}if(r&&t){t.call(n)}else if(t){i.push(t)}else{s()}return[n]};r.fn={};r.fn.each=function(e){for(var t=0,n=this.length;t<n;t++){e.call(this[t],t)}return this};r.fn.data=function(e,n){if(e===t){return this[0].alaData}else{if(n===t){return this[0].getAttribute("data-"+e)||this[0].alaData&&this[0].alaData[e]}else{return this.each(function(){if(!this.alaData){this.alaData={}}this.alaData[e]=n})}}};r.fn.bind=function(e,t){function i(e){return t.apply(r,[e].concat(e._args))}var n=e.split(" "),r=this;return this.each(function(){for(var e=0,t=n.length;e<t;e++){if("addEventListener"in this){this.addEventListener(n[e],i,false)}else if(this.attachEvent){this.attachEvent("on"+n[e],i)}}})};r.fn.trigger=function(e,t){var r=e.split(" ");return this.each(function(){for(var i=0,s=r.length;i<s;i++){if(n.createEvent){var o=n.createEvent("Event");o.initEvent(r[i],true,true);o._args=t;this.dispatchEvent(o)}else if(n.createEventObject){var u=n.createEventObject();u._args=t;u.eventType=e;this.fireEvent(e,u)}}})};r.fn.throttle=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n);n=setTimeout(function(){e.apply(r,i)},t)}};var i=function(){var e=false;try{e=new XMLHttpRequest}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();r.ajax=function(e,t){var n=i(),s=r.ajax.settings;if(t){r.extend(s,t)}if(!e){e=s.url}if(!n||!e){return}n.open(s.method,e+s.data,s.async);n.onreadystatechange=function(){if(n.readyState!==4||n.status!==200&&n.status!==304){return s.error(n.responseText)}else if(n.readyState===4){s.success(n.responseText,n.status,n)}};if(n.readyState===4){return}n.send(null)};r.ajax.settings={success:function(){},error:function(){},method:"GET",async:true,data:null};e.ala=r})(this);(function(e,t){"use strict";var n=e.ala,r="script",i={pluginName:"ala-embedded-comment",endpoint:"http://alistapart.com/embedded-comment"},s={_init:function(){var e=n(this);if(e.data("init")===true){return false}return n(this).trigger(i.pluginName+"-create").data("init",true)[i.pluginName]("_fetchData")},_injectiframe:function(t){var r=document.createElement("iframe"),s=n(this),o=s.data("comment"),u=e.document.getElementById(i.pluginName+"-"+o),a=function(e){if(e.contentWindow){a=e.contentWindow}else{if(e.contentDocument&&e.contentDocument.document){a=e.contentDocument.document}else{a=e.contentDocument}}return a},f;r.width="100%";r.frameborder="0";r.style.padding="0 0 3px";r.style.border="none";r.style.minHeight="96px";r.style.width="600px";r.style.maxWidth="100%";r.style.border="1px solid #dddddd";r.style.borderRadius="6px";r.style.boxShadow="3px 2px 15px -5px rgba(238, 238, 238,1)";r.style.background="#fff";if(u){u.parentNode.replaceChild(r,u)}else{this.parentNode.insertBefore(r,this)}f=a(r);f.document.open();f.document.write(t);f.document.getElementsByTagName("link")[0].onload=function(){r.scrolling="no";s[i.pluginName]("_handleResize",r)};f.document.close()},_fetchData:function(){var e=n(this),t=e.data("comment");n.ajax(i.endpoint,{data:"/"+t,async:false,success:function(t){e[i.pluginName]("_injectiframe",t)}})},_handleResize:function(t){var r=function(){t.height=t.contentWindow.document.getElementById(i.pluginName).scrollHeight+6};r();n(e).bind("resize",n.fn.throttle(r,100))}};n.fn[i.pluginName]=function(e,t,r,s){return this.each(function(){if(e&&typeof e==="string"){return n.fn[i.pluginName].prototype[e].call(this,t,r,s)}if(n(this).data(i.pluginName+"data")){return n(this)}n(this).data(i.pluginName+"active",true);n.fn[i.pluginName].prototype._init.call(this)})};n.extend(n.fn[i.pluginName].prototype,s);var o=e.document.getElementsByTagName(r);for(var u=0,a=o.length;u<a;u++){var f=n(o[u]);if(f.data("comment")){f[i.pluginName]()}}})(this)